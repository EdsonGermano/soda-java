<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_12-ea) on Tue Apr 09 13:13:55 PDT 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Overview (Soda2 API Client 0.9.2-SNAPSHOT API)</title>
<meta name="date" content="2013-04-09">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Overview (Soda2 API Client 0.9.2-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">Soda2 API Client 0.9.2-SNAPSHOT API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">Overview</div>
</div>
<p>See: <a href="#overview_description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="API Package (defines the operations) table, listing packages, and an explanation">
<caption><span>API Package (defines the operations)</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="com/socrata/api/package-summary.html">com.socrata.api</a></td>
<td class="colLast">
<div class="block">Provides objects that implement all the major Socrata operations (verbs).</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Model Packages (defines the "nouns") table, listing packages, and an explanation">
<caption><span>Model Packages (defines the "nouns")</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="com/socrata/exceptions/package-summary.html">com.socrata.exceptions</a></td>
<td class="colLast">
<div class="block">Defines the errors that can happen when using the Socrata APIs defined in com.socrata.api.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/socrata/model/package-summary.html">com.socrata.model</a></td>
<td class="colLast">
<div class="block">Defines the objects that are parameters to APIs, return values to APIs or system objects in the Socrata platform.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/socrata/model/importer/package-summary.html">com.socrata.model.importer</a></td>
<td class="colLast">
<div class="block">The model objects (nouns) used by the import operations defined by SodaImporter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/socrata/model/requests/package-summary.html">com.socrata.model.requests</a></td>
<td class="colLast">
<div class="block">The model objects (nouns) used for defining SODA requests.These objects are mainly used internally
 by the API to provide "retry" logic in the case of 202 retries..</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/socrata/model/search/package-summary.html">com.socrata.model.search</a></td>
<td class="colLast">
<div class="block">The model objects (nouns) used for doing searches on the Socrata platform.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/socrata/model/soql/package-summary.html">com.socrata.model.soql</a></td>
<td class="colLast">
<div class="block">The model objects (nouns) used for defining SoQL operations.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Utility and Helper Packages table, listing packages, and an explanation">
<caption><span>Utility and Helper Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="com/socrata/builders/package-summary.html">com.socrata.builders</a></td>
<td class="colLast">
<div class="block">Helper objects to create and manipulate some of the objects defined in com.socrata.model.These are
 not necassary for using the API, but can be useful.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/socrata/utils/package-summary.html">com.socrata.utils</a></td>
<td class="colLast">
<div class="block">Helper objects used by the API implementation.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="footer"><a name="overview_description">
<!--   -->
</a>
<div class="subTitle">
<div class="block"><h2>Overview</h2>
The Java API provides methods for calling the commonly used APIs provided by the Socrata platform.  That being said, by far the
most common usages are either updating data or querying data.  For querying data, there is only one good way of doing this, which is using the
Soda2Consumer api and the SODA Query Language (SoQL) to create queries.  For updating data there are two ways to do this, and choosing which
one depdends on your scenario.

<h2>Updating Datasets</h2>

Socrata offers two workflows for updating data:
<ol>
    <li>The <b>Upsert Flow</b> is a much simple process where you simply call an upsert operation that allows you to add/remove/update data
    in a dataset in a bulk operation.  This is a more light weight way to update datasets and should be considered the default updating mechanism.  If
    updating datasets more than once an hour, you should definitely use this flow.</li>

    <li>The <b>Publishing Flow</b> is a process where you first create a working copy of the dataset.  This working copy is only seen
    by your client until you do your appropriate updates and then publish it.  This method provides some safety in terms of allowing you to
    do many updates through several API calls and not let your users see them mid way, however, it is <b>expensive</b>.  You should only
    really use this if you are <strong>updating datasets less than once every two hours</strong> and <strong>you are updating a lot
    of the dataset</strong>.</li>
</ol>


<h4>The Upsert Flow</h4>
The upsert flow is the easiest way to update data and is often the recommended version.  This simply allows you to send up updates
in a CSV file or a JSON object.  An example of the simplest way to call this is:

<pre><code>
    Soda2Producer producer = Soda2Producer.newProducer(url, userName, password, token);
    UpsertResult results = producer.upsertStream(UPDATE_DATA_SET, HttpLowLevel.CSV_TYPE, csvStream);
    if (results.errorCount()) {
        //If there are data errors, throw so the data can be checked by a human to make sure it is correct
        throw SomeError;
    }
</code></pre>

<h4>The Publishing Flow</h4>
The publishing flow is a bit more involved.  It entails copying a dataset, doing work on it, and then publishing it.  As mentioned
above, the copy and publishing steps are potentially expensive, so this flow should only be done when you need it.  It is likely in
the future, Socrata may restrict the number of working copies allowed on a dataset per hour to prevent abuse.

<pre><code>
    SodaImporter importer = SodaImporter.newImporter(url, userName, password, token);

    DatasetInfo  unpublishedView  = importer.createWorkingCopy(UPDATE_DATA_SET);
    DatasetInfo  appendResults    = importer.replace(unpublishedView.getId(), CSV_TO_REPLACE_WITH, 1, null)
    DatasetInfo  publishedResults = importer.publish(appendResults.getId());

</code></pre></div>
</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013. All Rights Reserved.</small></p>
</body>
</html>
